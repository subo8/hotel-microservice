{"ast":null,"code":"var _jsxFileName = \"/Users/tusimegodwin/Downloads/big-project/FrontEnd/src/components/Booking.js\";\nimport React from \"react\";\nimport \"../App.css\";\nimport Container from \"react-bootstrap/Container\";\nimport { Row, Col } from \"react-bootstrap\";\nimport NavBar from \"./NavBar\";\nimport AddBookingForm from \"./AddBookingForm\";\nimport AvailableRoomList from \"./AvailableRoomList\";\nimport axios from \"axios\";\nimport BACK_END_URL from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Booking extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeHandler = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.notlogin = () => {\n      if (this.setState({\n        loggedIn: false\n      })) {\n        window.location = \"/login\";\n      }\n    };\n\n    this.getRooms = () => {\n      axios // .get(BACK_END_URL + \"/api/rooms/\", {\n      .get(\"http://localhost:8088/\", {// headers: {\n        //   Authorization:\n        //     \"Bearer \" + localStorage.getItem(\"variableName\").replace(/\"/g, \"\"),\n        // },\n      }).then(res => {\n        this.setState({\n          rooms: res.data.map(room => {\n            return { ...room,\n              selected: false\n            };\n          })\n        }).catch(error => console.log(error));\n      });\n    };\n\n    this.addRoom = room => {\n      room.selected = true;\n      let {\n        selectedRooms\n      } = this.state;\n\n      if (selectedRooms && selectedRooms.length > 0) {\n        selectedRooms = [...this.state.selectedRooms.filter(aRoom => aRoom.roomNumber !== room.roomNumber), room];\n      } else {\n        selectedRooms = [room];\n      }\n\n      this.setState({\n        selectedRooms,\n        rooms: [room, ...this.state.rooms.filter(aRoom => aRoom.roomNumber !== room.roomNumber)]\n      });\n    };\n\n    this.removeRoom = room => {\n      room.selected = false;\n      this.setState({\n        selectedRooms: [...this.state.selectedRooms.filter(aRoom => aRoom.roomNumber !== room.roomNumber)],\n        rooms: [room, ...this.state.rooms.filter(aRoom => aRoom.roomNumber !== room.roomNumber)]\n      });\n    };\n\n    this.state = {\n      dateOfArrival: \"\",\n      dateOfDeparture: \"\",\n      numberOfRooms: \"\",\n      otherReservations: \"\",\n      roles: \"\",\n      rooms: [],\n      selectedRooms: [],\n      loggedIn: false\n    };\n  }\n\n  componentDidMount() {\n    this.getRooms();\n  }\n\n  if(notlogin) {\n    window.location = \"/\";\n  }\n\n  render() {\n    const {\n      rooms,\n      selectedRooms\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"booking\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            sm: 12,\n            md: 12,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"image-div\",\n              style: {\n                margin: \"0 auto 1rem\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"welcome\",\n                style: {\n                  textAlign: \"center\"\n                },\n                children: \"Welcome To Our World, Book With Us And Enjoy Your Stay..\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  height: \"200px\",\n                  margin: \"0 auto\",\n                  display: \"block\"\n                },\n                src: \"/aman-CP3kqxiDlwY-unsplash.jpg\",\n                height: \"530\",\n                width: \"660\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            sm: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(AddBookingForm, {\n              rooms: selectedRooms\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: rooms.length > 0 ? /*#__PURE__*/_jsxDEV(AvailableRoomList, {\n              rooms: this.state.rooms,\n              addRoom: this.addRoom,\n              removeRoom: this.removeRoom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: \"No Rooms available\"\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Booking;","map":{"version":3,"sources":["/Users/tusimegodwin/Downloads/big-project/FrontEnd/src/components/Booking.js"],"names":["React","Container","Row","Col","NavBar","AddBookingForm","AvailableRoomList","axios","BACK_END_URL","Booking","Component","constructor","props","changeHandler","event","setState","target","name","value","notlogin","loggedIn","window","location","getRooms","get","then","res","rooms","data","map","room","selected","catch","error","console","log","addRoom","selectedRooms","state","length","filter","aRoom","roomNumber","removeRoom","dateOfArrival","dateOfDeparture","numberOfRooms","otherReservations","roles","componentDidMount","if","render","margin","textAlign","height","display"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../App.css\";\nimport Container from \"react-bootstrap/Container\";\nimport { Row, Col } from \"react-bootstrap\";\nimport NavBar from \"./NavBar\";\nimport AddBookingForm from \"./AddBookingForm\";\nimport AvailableRoomList from \"./AvailableRoomList\";\nimport axios from \"axios\";\nimport BACK_END_URL from \"../services/api\";\n\nclass Booking extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dateOfArrival: \"\",\n      dateOfDeparture: \"\",\n      numberOfRooms: \"\",\n      otherReservations: \"\",\n      roles: \"\",\n      rooms: [],\n      selectedRooms: [],\n      loggedIn: false,\n    };\n  }\n  changeHandler = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  componentDidMount() {\n    this.getRooms();\n  }\n  notlogin = () => {\n    if (this.setState({ loggedIn: false })) {\n      window.location = \"/login\";\n    }\n  };\n  if(notlogin) {\n    window.location = \"/\";\n  }\n  getRooms = () => {\n    axios\n      // .get(BACK_END_URL + \"/api/rooms/\", {\n      .get(\"http://localhost:8088/\", {\n        // headers: {\n        //   Authorization:\n        //     \"Bearer \" + localStorage.getItem(\"variableName\").replace(/\"/g, \"\"),\n        // },\n      })\n      .then((res) => {\n        this.setState({\n          rooms: res.data.map((room) => {\n            return {\n              ...room,\n              selected: false,\n            };\n          }),\n        }).catch((error) => console.log(error));\n      });\n  };\n\n  addRoom = (room) => {\n    room.selected = true;\n    let { selectedRooms } = this.state;\n    if (selectedRooms && selectedRooms.length > 0) {\n      selectedRooms = [\n        ...this.state.selectedRooms.filter(\n          (aRoom) => aRoom.roomNumber !== room.roomNumber\n        ),\n        room,\n      ];\n    } else {\n      selectedRooms = [room];\n    }\n    this.setState({\n      selectedRooms,\n      rooms: [\n        room,\n        ...this.state.rooms.filter(\n          (aRoom) => aRoom.roomNumber !== room.roomNumber\n        ),\n      ],\n    });\n  };\n\n  removeRoom = (room) => {\n    room.selected = false;\n    this.setState({\n      selectedRooms: [\n        ...this.state.selectedRooms.filter(\n          (aRoom) => aRoom.roomNumber !== room.roomNumber\n        ),\n      ],\n      rooms: [\n        room,\n        ...this.state.rooms.filter(\n          (aRoom) => aRoom.roomNumber !== room.roomNumber\n        ),\n      ],\n    });\n  };\n  render() {\n    const { rooms, selectedRooms } = this.state;\n    return (\n      <div id=\"booking\">\n        <NavBar />\n        <br></br>\n        {/* {this.props.role === \"ADMIN\"\n          ? \"Make A Reservation\"\n          : \"   Access DEmied\"} */}\n        <Container fluid>\n          <Row>\n            <Col sm={12} md={12}>\n              <div id=\"image-div\" style={{ margin: \"0 auto 1rem\" }}>\n                <p className=\"welcome\" style={{ textAlign: \"center\" }}>\n                  Welcome To Our World, Book With Us And Enjoy Your Stay..\n                </p>\n                <img\n                  style={{\n                    height: \"200px\",\n                    margin: \"0 auto\",\n                    display: \"block\",\n                  }}\n                  src=\"/aman-CP3kqxiDlwY-unsplash.jpg\"\n                  height=\"530\"\n                  width=\"660\"\n                  alt=\"\"\n                ></img>\n              </div>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={12} md={6}>\n              <AddBookingForm rooms={selectedRooms} />\n            </Col>\n            <Col>\n              {rooms.length > 0 ? (\n                <AvailableRoomList\n                  rooms={this.state.rooms}\n                  addRoom={this.addRoom}\n                  removeRoom={this.removeRoom}\n                />\n              ) : (\n                <>No Rooms available</>\n              )}\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\nexport default Booking;\n"]},"metadata":{},"sourceType":"module"}
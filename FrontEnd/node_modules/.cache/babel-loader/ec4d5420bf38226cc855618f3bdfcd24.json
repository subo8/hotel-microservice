{"ast":null,"code":"var _jsxFileName = \"/Users/tusimegodwin/Documents/DesktopBackup/Software-enginnering-project/hotel-front-end/src/components/AddBookingForm.js\";\nimport React from \"react\";\nimport \"../App.css\";\nimport { Row, Col, Form, Button, Alert, Badge } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddBookingForm extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      dateOfArrival: \"\",\n      dateOfDeparture: \"\",\n      numberOfRooms: \"\",\n      totalPrice: \"\",\n      numberOfGuests: \"\"\n    };\n\n    this.changeHandler = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.submitHandler = event => {\n      event.preventDefault();\n      const rooms = this.props.rooms;\n      if (rooms != null && rooms.length < 1) return;\n      const totalPrice = rooms.reduce((total, room) => total + (room.price || 0), 0);\n      const bookingDetails = { ...this.state,\n        totalPrice,\n        rooms\n      };\n      console.log(bookingDetails);\n      axios.post(\"http://localhost:8080/booking\", bookingDetails, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"access-token\").replace(/\"/g, \"\")\n        }\n      }).then(res => {\n        console.log(res);\n        window.location = \"/bookings\";\n      }).catch(err => console.log(err));\n    };\n\n    this.roomList = rooms => rooms.map(room => {\n      return /*#__PURE__*/_jsxDEV(Badge, {\n        pill: true,\n        bg: \"secondary\",\n        className: \"m-2\",\n        children: `Room #${room.roomNumber} selected`\n      }, room.roomNumber, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 16\n      }, this);\n    });\n  }\n\n  render() {\n    const {\n      rooms\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Form, {\n      id: \"booking-form\",\n      onSubmit: this.submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Make Your Reservation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          className: \"mb-2\",\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Date of Arrival\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"date\",\n            name: \"dateOfArrival\",\n            onChange: this.changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Date Of Departure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"date\",\n            name: \"dateOfDeparture\",\n            onChange: this.changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-2\",\n        controlId: \"formBasicEmail\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Number of Guests\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Enter Number of Guests\",\n          name: \"numberOfGuests\",\n          onChange: this.changeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-2\",\n        controlId: \"formBasicEmail\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Number of Rooms\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Enter Number of Rooms\",\n          name: \"numberOfRooms\",\n          onChange: this.changeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formBasicPassword\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Other Reservations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Other Reservations other than Rooms\",\n          name: \"otherReservations\",\n          onChange: this.changeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: rooms.length > 0 ? this.roomList(rooms) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"m-2\",\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"danger\",\n            children: \" No Rooms Selected \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        id: \"button\",\n        type: \"submit\",\n        disabled: rooms.length < 1 ? \"disabled\" : \"\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddBookingForm;","map":{"version":3,"sources":["/Users/tusimegodwin/Documents/DesktopBackup/Software-enginnering-project/hotel-front-end/src/components/AddBookingForm.js"],"names":["React","Row","Col","Form","Button","Alert","Badge","axios","AddBookingForm","Component","state","dateOfArrival","dateOfDeparture","numberOfRooms","totalPrice","numberOfGuests","changeHandler","event","setState","target","name","value","submitHandler","preventDefault","rooms","props","length","reduce","total","room","price","bookingDetails","console","log","post","headers","Authorization","localStorage","getItem","replace","then","res","window","location","catch","err","roomList","map","roomNumber","render","textAlign"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../App.css\";\nimport { Row, Col, Form, Button, Alert, Badge } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nclass AddBookingForm extends React.Component {\n    state = {\n        dateOfArrival: \"\",\n        dateOfDeparture: \"\",\n        numberOfRooms: \"\",\n        totalPrice: \"\",\n        numberOfGuests: \"\"\n      };\n      \n      changeHandler = (event) => {\n        this.setState({ [event.target.name]: event.target.value });\n      };\n\n      submitHandler = (event) => {\n        event.preventDefault();\n        const rooms = this.props.rooms\n        if(rooms != null && rooms.length < 1) return;\n\n        const totalPrice = rooms.reduce((total, room) => total + (room.price || 0), 0);\n\n        const bookingDetails = {\n          ...this.state,\n          totalPrice,\n          rooms\n        };\n    \n        console.log(bookingDetails);\n        axios\n          .post(\"http://localhost:8080/booking\", bookingDetails, {\n            headers: {\n              Authorization:\n                \"Bearer \" + localStorage.getItem(\"access-token\").replace(/\"/g, \"\"),\n            },\n          })\n          .then((res) => {\n            console.log(res);\n             window.location = \"/bookings\";\n          })\n          .catch((err) => console.log(err));\n      };\n\n      roomList = (rooms) => rooms.map(room => {\n       return (<Badge pill bg=\"secondary\" className=\"m-2\" key={room.roomNumber}>{`Room #${room.roomNumber} selected`}</Badge>)\n      })\n\n\n      render() {\n          const { rooms } = this.props;\n\n        return (\n            <Form id=\"booking-form\" onSubmit={this.submitHandler}>\n            <h3 style={{ textAlign: \"center\" }}>Make Your Reservation</h3>\n            <Row className=\"mb-2\">\n                <Form.Group\n                as={Col}\n                className=\"mb-2\"\n                controlId=\"formBasicEmail\"\n                >\n                <Form.Label>Date of Arrival</Form.Label>\n                <Form.Control\n                    type=\"date\"\n                    name=\"dateOfArrival\"\n                    onChange={this.changeHandler}\n                />\n                </Form.Group>\n                <Form.Group as={Col} controlId=\"formBasicEmail\">\n                <Form.Label>Date Of Departure</Form.Label>\n                <Form.Control\n                    type=\"date\"\n                    name=\"dateOfDeparture\"\n                    onChange={this.changeHandler}\n                />\n                </Form.Group>\n            </Row>\n            <Form.Group className=\"mb-2\" controlId=\"formBasicEmail\">\n                <Form.Label>Number of Guests</Form.Label>\n                <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Number of Guests\"\n                name=\"numberOfGuests\"\n                onChange={this.changeHandler}\n                />\n            </Form.Group>\n            <Form.Group className=\"mb-2\" controlId=\"formBasicEmail\">\n                <Form.Label>Number of Rooms</Form.Label>\n                <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Number of Rooms\"\n                name=\"numberOfRooms\"\n                onChange={this.changeHandler}\n                />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                <Form.Label>Other Reservations</Form.Label>\n                <Form.Control\n                type=\"text\"\n                placeholder=\"Other Reservations other than Rooms\"\n                name=\"otherReservations\"\n                onChange={this.changeHandler}\n                />\n            </Form.Group>\n            <div>\n                {rooms.length > 0 ? \n                    this.roomList(rooms)\n                : <div className=\"m-2\">\n                    <Alert variant=\"danger\"> No Rooms Selected </Alert>\n                </div>}\n            </div>\n            <Button id=\"button\" type=\"submit\" disabled={rooms.length < 1 ? \"disabled\": \"\"}>\n                Submit\n            </Button>\n            </Form>\n        );\n      }\n}\n\nexport default AddBookingForm;"]},"metadata":{},"sourceType":"module"}
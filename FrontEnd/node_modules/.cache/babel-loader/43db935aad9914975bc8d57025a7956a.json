{"ast":null,"code":"var _jsxFileName = \"/Users/tusimegodwin/Documents/DesktopBackup/Software-enginnering-project/hotel-front-end/src/components/AddBookingForm.js\";\nimport React from \"react\";\nimport \"../App.css\";\nimport { Row, Col, Form, Button, Alert, Badge } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport BACK_END_URL from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddBookingForm extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      dateOfArrival: \"\",\n      dateOfDeparture: \"\",\n      numberOfRooms: \"\",\n      totalPrice: \"\",\n      numberOfGuests: \"\"\n    };\n\n    this.changeHandler = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.submitHandler = event => {\n      event.preventDefault();\n      const rooms = this.props.rooms;\n      if (rooms != null && rooms.length < 1) return;\n      const totalPrice = rooms.reduce((total, room) => total + (room.price || 0), 0);\n      const bookingDetails = { ...this.state,\n        totalPrice,\n        rooms\n      };\n      console.log(bookingDetails);\n      axios.post(BACK_END_URL + \"/booking\", bookingDetails, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"access-token\").replace(/\"/g, \"\")\n        }\n      }).then(res => {\n        console.log(res);\n        window.location = \"/bookings\";\n      }).catch(err => console.log(err));\n    };\n\n    this.roomList = rooms => rooms.map(room => {\n      return /*#__PURE__*/_jsxDEV(Badge, {\n        pill: true,\n        bg: \"secondary\",\n        className: \"m-2\",\n        children: `Room #${room.roomNumber} selected`\n      }, room.roomNumber, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this);\n    });\n  }\n\n  render() {\n    const {\n      rooms\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Form, {\n      id: \"booking-form\",\n      onSubmit: this.submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Make Your Reservation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          className: \"mb-2\",\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Date of Arrival\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"date\",\n            name: \"dateOfArrival\",\n            onChange: this.changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Date Of Departure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"date\",\n            name: \"dateOfDeparture\",\n            onChange: this.changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-2\",\n        controlId: \"formBasicEmail\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Number of Guests\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Enter Number of Guests\",\n          name: \"numberOfGuests\",\n          onChange: this.changeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-2\",\n        controlId: \"formBasicEmail\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Number of Rooms\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Enter Number of Rooms\",\n          name: \"numberOfRooms\",\n          onChange: this.changeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formBasicPassword\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Other Reservations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Other Reservations other than Rooms\",\n          name: \"otherReservations\",\n          onChange: this.changeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: rooms.length > 0 ? this.roomList(rooms) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"m-2\",\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"danger\",\n            children: \" No Rooms Selected \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        id: \"button\",\n        type: \"submit\",\n        disabled: rooms.length < 1 ? \"disabled\" : \"\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default AddBookingForm;","map":{"version":3,"sources":["/Users/tusimegodwin/Documents/DesktopBackup/Software-enginnering-project/hotel-front-end/src/components/AddBookingForm.js"],"names":["React","Row","Col","Form","Button","Alert","Badge","axios","BACK_END_URL","AddBookingForm","Component","state","dateOfArrival","dateOfDeparture","numberOfRooms","totalPrice","numberOfGuests","changeHandler","event","setState","target","name","value","submitHandler","preventDefault","rooms","props","length","reduce","total","room","price","bookingDetails","console","log","post","headers","Authorization","localStorage","getItem","replace","then","res","window","location","catch","err","roomList","map","roomNumber","render","textAlign"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../App.css\";\nimport { Row, Col, Form, Button, Alert, Badge } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport BACK_END_URL from \"../services/api\";\n\nclass AddBookingForm extends React.Component {\n  state = {\n    dateOfArrival: \"\",\n    dateOfDeparture: \"\",\n    numberOfRooms: \"\",\n    totalPrice: \"\",\n    numberOfGuests: \"\",\n  };\n\n  changeHandler = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  submitHandler = (event) => {\n    event.preventDefault();\n    const rooms = this.props.rooms;\n    if (rooms != null && rooms.length < 1) return;\n\n    const totalPrice = rooms.reduce(\n      (total, room) => total + (room.price || 0),\n      0\n    );\n\n    const bookingDetails = {\n      ...this.state,\n      totalPrice,\n      rooms,\n    };\n\n    console.log(bookingDetails);\n    axios\n      .post(BACK_END_URL + \"/booking\", bookingDetails, {\n        headers: {\n          Authorization:\n            \"Bearer \" + localStorage.getItem(\"access-token\").replace(/\"/g, \"\"),\n        },\n      })\n      .then((res) => {\n        console.log(res);\n        window.location = \"/bookings\";\n      })\n      .catch((err) => console.log(err));\n  };\n\n  roomList = (rooms) =>\n    rooms.map((room) => {\n      return (\n        <Badge\n          pill\n          bg=\"secondary\"\n          className=\"m-2\"\n          key={room.roomNumber}\n        >{`Room #${room.roomNumber} selected`}</Badge>\n      );\n    });\n\n  render() {\n    const { rooms } = this.props;\n\n    return (\n      <Form id=\"booking-form\" onSubmit={this.submitHandler}>\n        <h3 style={{ textAlign: \"center\" }}>Make Your Reservation</h3>\n        <Row className=\"mb-2\">\n          <Form.Group as={Col} className=\"mb-2\" controlId=\"formBasicEmail\">\n            <Form.Label>Date of Arrival</Form.Label>\n            <Form.Control\n              type=\"date\"\n              name=\"dateOfArrival\"\n              onChange={this.changeHandler}\n            />\n          </Form.Group>\n          <Form.Group as={Col} controlId=\"formBasicEmail\">\n            <Form.Label>Date Of Departure</Form.Label>\n            <Form.Control\n              type=\"date\"\n              name=\"dateOfDeparture\"\n              onChange={this.changeHandler}\n            />\n          </Form.Group>\n        </Row>\n        <Form.Group className=\"mb-2\" controlId=\"formBasicEmail\">\n          <Form.Label>Number of Guests</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter Number of Guests\"\n            name=\"numberOfGuests\"\n            onChange={this.changeHandler}\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-2\" controlId=\"formBasicEmail\">\n          <Form.Label>Number of Rooms</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter Number of Rooms\"\n            name=\"numberOfRooms\"\n            onChange={this.changeHandler}\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n          <Form.Label>Other Reservations</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Other Reservations other than Rooms\"\n            name=\"otherReservations\"\n            onChange={this.changeHandler}\n          />\n        </Form.Group>\n        <div>\n          {rooms.length > 0 ? (\n            this.roomList(rooms)\n          ) : (\n            <div className=\"m-2\">\n              <Alert variant=\"danger\"> No Rooms Selected </Alert>\n            </div>\n          )}\n        </div>\n        <Button\n          id=\"button\"\n          type=\"submit\"\n          disabled={rooms.length < 1 ? \"disabled\" : \"\"}\n        >\n          Submit\n        </Button>\n      </Form>\n    );\n  }\n}\n\nexport default AddBookingForm;\n"]},"metadata":{},"sourceType":"module"}